<div ng-controller="FileController as File">
  <div class="box box-primary">
    <div class="box-header">
      <label>Търсене на файлове по име, тип или съд</label>
      <div class="">
        <div class="col-md-5">
          <input type="text" class="form-control icon" ng-model="File.search.text" placeholder="&#61442; Търси по име на файл...">
        </div>
        <div class="col-md-3">
          <select class="form-control" ng-model="File.search.type">
            <option value="" selected="selected">*Тип</option>
            <option ng-repeat="type in File.types | orderBy: 'name'">{{type.name}}</option>
          </select>
        </div>
        <div class="col-md-4">
          <select class="form-control" ng-model="File.search.court">
            <option value="" selected="selected">*Съд</option>
            <option ng-repeat="court in File.courts | orderBy: 'name'">{{court.name}}</option>
          </select>
        </div>
      </div>
    </div>

    <div class="box-body">
      <table class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
          <th ng-click="orderByField='metadata.filename'; reverseSort = !reverseSort">Име на файл <i
            class="icon-sort"></i></th>
          <th ng-click="orderByField='metadata.type'; reverseSort = !reverseSort">Тип файл <i class="icon-sort"></i></th>
          <th ng-click="orderByField='metadata.court'; reverseSort = !reverseSort">Съд <i class="icon-sort"></i></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="file in File.files |
                        filter:File.search.text |
                        filter:File.search.type |
                        filter:File.search.court |
                        orderBy:orderByField:reverseSort">
          <td><a href="/admin/file/{{file._id}}">{{file.filename}}</a></td>
          <td>{{file.metadata.type}}</td>
          <td>{{file.metadata.court}}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>